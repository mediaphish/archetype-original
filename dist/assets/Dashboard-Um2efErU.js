import{t as P,r as h,a as K,u as q,j as e,E as G,d as W}from"./index-BdsrP8-0.js";import{O as _,h as j}from"./OperatorsHeader-CU2vonQ4.js";import{C as Y}from"./ConfirmModal-DqxT8AuK.js";import{a as z}from"./EmptyState-BUI8Xudz.js";import{M as Q}from"./map-pin-Bmn51TOJ.js";const X=async c=>{if(!(typeof window>"u"))if(document.readyState==="complete"){const d=performance.timing.loadEventEnd-performance.timing.navigationStart;await P("page_load",d,"ms",{page:c})}else window.addEventListener("load",()=>{const d=performance.timing.loadEventEnd-performance.timing.navigationStart;P("page_load",d,"ms",{page:c})})},Z=async(c,d,D="success")=>{await P("api_response_time",d,"ms",{endpoint:c,status:D})};function oe(){const[c,d]=h.useState(null),[D,R]=h.useState([]),[C,l]=h.useState(!0),[O,v]=h.useState(!1),[H,S]=h.useState({}),[N,F]=h.useState({isOpen:!1}),x=K(),{email:b,userRoles:A}=q(),f=h.useCallback(s=>{window.history.pushState({},"",s),window.dispatchEvent(new PopStateEvent("popstate")),window.scrollTo({top:0,behavior:"instant"})},[]);if(h.useEffect(()=>{X("dashboard"),(async()=>{try{l(!0);const a=performance.now(),o=await fetch("/api/operators/dashboard"),m=performance.now()-a;if(await Z("/api/operators/dashboard",m,o.ok?"success":"error"),!o.ok){console.error("[DASHBOARD] HTTP error:",o.status,o.statusText);const i=await o.text();console.error("[DASHBOARD] Error response:",i),d(null),l(!1);return}const t=await o.json();if(console.log("[DASHBOARD] API response:",t),t.ok&&t.dashboard?(console.log("[DASHBOARD] Setting dashboard data:",t.dashboard),d(t.dashboard)):(console.error("[DASHBOARD] API error:",t.error||"No dashboard data returned"),console.error("[DASHBOARD] Full response:",JSON.stringify(t,null,2)),x.error(t.error||"Failed to load dashboard data"),d(null)),b)try{const u=await(await fetch(`/api/operators/events?state=LIVE&email=${encodeURIComponent(b)}`)).json();if(u.ok&&u.events){const r=new Date;r.setHours(0,0,0,0);const g=u.events.filter(n=>new Date(n.event_date)>=r).map(n=>({...n,user_rsvp:n.user_rsvp_status?{status:n.user_rsvp_status}:null,rsvps:Array.from({length:n.confirmed_count||0},(w,E)=>({status:"confirmed"})).concat(Array.from({length:n.waitlist_count||0},(w,E)=>({status:"waitlisted"})))}));R(g)}}catch(i){console.error("[DASHBOARD] Failed to fetch events:",i)}}catch(a){console.error("[DASHBOARD] Failed to fetch dashboard:",a),console.error("[DASHBOARD] Error details:",a.message,a.stack),W(a,null,{component:"Dashboard",action:"fetchData",email:b||"unknown"}),x.error("Failed to load dashboard. Please try again."),d(null)}finally{l(!1)}})()},[b,x]),C)return e.jsxs("div",{className:"min-h-screen bg-[#fafafa]",children:[e.jsx(_,{active:"dashboard"}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:"Loading dashboard..."})]});if(!c&&!C)return e.jsxs("div",{className:"min-h-screen bg-[#fafafa]",children:[e.jsx(_,{active:"dashboard",onNavigate:f}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No data available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load dashboard metrics. Please check the console for errors."}),e.jsx("button",{onClick:()=>{l(!0),fetch("/api/operators/dashboard").then(s=>s.json()).then(s=>{console.log("[DASHBOARD] Retry response:",s),s.ok&&s.dashboard&&d(s.dashboard)}).catch(s=>console.error("[DASHBOARD] Retry error:",s)).finally(()=>l(!1))},onKeyDown:j(()=>{l(!0),fetch("/api/operators/dashboard").then(s=>s.json()).then(s=>{console.log("[DASHBOARD] Retry response:",s),s.ok&&s.dashboard&&d(s.dashboard)}).catch(s=>console.error("[DASHBOARD] Retry error:",s)).finally(()=>l(!1))}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Retry loading dashboard data",children:"Retry"})]})})]});const V=async s=>{v(!0);try{const o=await(await fetch(`/api/operators/events/${s}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,action:"rsvp"})})).json();if(o.ok){const t=await(await fetch(`/api/operators/events?state=LIVE&email=${encodeURIComponent(b)}`)).json();if(t.ok&&t.events){const i=new Date;i.setHours(0,0,0,0);const u=t.events.filter(r=>new Date(r.event_date)>=i).map(r=>({...r,user_rsvp:r.user_rsvp_status?{status:r.user_rsvp_status}:null,rsvps:Array.from({length:r.confirmed_count||0},(g,n)=>({status:"confirmed"})).concat(Array.from({length:r.waitlist_count||0},(g,n)=>({status:"waitlisted"})))}));R(u)}}else x.error(o.error||"Failed to RSVP")}catch{x.error("Failed to RSVP. Please try again.")}finally{v(!1)}},T=async s=>{F({isOpen:!0,title:"Cancel RSVP",message:"Are you sure you want to cancel your RSVP?",onConfirm:()=>$(s),variant:"default"})},$=async s=>{v(!0);try{const o=await(await fetch(`/api/operators/events/${s}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,action:"cancel"})})).json();if(o.ok){const t=await(await fetch(`/api/operators/events?state=LIVE&email=${encodeURIComponent(b)}`)).json();if(t.ok&&t.events){const i=new Date;i.setHours(0,0,0,0);const u=t.events.filter(r=>new Date(r.event_date)>=i).map(r=>({...r,user_rsvp:r.user_rsvp_status?{status:r.user_rsvp_status}:null,rsvps:Array.from({length:r.confirmed_count||0},(g,n)=>({status:"confirmed"})).concat(Array.from({length:r.waitlist_count||0},(g,n)=>({status:"waitlisted"})))}));R(u)}}else x.error(o.error||"Failed to cancel RSVP")}catch{x.error("Failed to cancel RSVP. Please try again.")}finally{v(!1)}},L=s=>!s.user_rsvp||s.state!=="LIVE"||!s.event_date||!s.start_time?!1:(new Date(`${s.event_date}T${s.start_time}`)-new Date)/(1e3*60*60)>=24,I=async(s,a)=>{s.preventDefault(),v(!0);const o=H[a]||{candidate_email:"",essay:"",contact_info:""};try{const t=await(await fetch("/api/operators/candidates/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,event_id:a,...o})})).json();if(t.ok){S(r=>({...r,[a]:{candidate_email:"",essay:"",contact_info:""}}));const u=await(await fetch(`/api/operators/events?state=LIVE&email=${encodeURIComponent(b)}`)).json();if(u.ok&&u.events){const r=new Date;r.setHours(0,0,0,0);const g=u.events.filter(n=>new Date(n.event_date)>=r).map(n=>({...n,user_rsvp:n.user_rsvp_status?{status:n.user_rsvp_status}:null,rsvps:Array.from({length:n.confirmed_count||0},(w,E)=>({status:"confirmed"})).concat(Array.from({length:n.waitlist_count||0},(w,E)=>({status:"waitlisted"})))}));R(g)}}else x.error(t.error||"Failed to submit candidate")}catch{x.error("Failed to submit candidate. Please try again.")}finally{v(!1)}},M=h.useCallback(s=>{switch(s){case"LIVE":return"bg-blue-100 text-blue-800";case"OPEN":return"bg-green-100 text-green-800";case"CLOSED":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},[]),U=h.useCallback(s=>s?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s)}`:"",[]),B=h.useCallback(s=>{if(!s)return"";const[a,o]=s.split(":"),m=parseInt(a),t=m>=12?"PM":"AM";return`${m%12||12}:${o} ${t}`},[]),k=h.useMemo(()=>A.includes("operator"),[A]),J=h.useMemo(()=>k||A.includes("candidate"),[k,A]);if(!c&&!C)return e.jsxs("div",{className:"min-h-screen bg-[#fafafa]",children:[e.jsx(_,{active:"dashboard",onNavigate:f}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx(z,{}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>{l(!0),fetch("/api/operators/dashboard").then(s=>s.json()).then(s=>{console.log("[DASHBOARD] Retry response:",s),s.ok&&s.dashboard&&d(s.dashboard)}).catch(s=>console.error("[DASHBOARD] Retry error:",s)).finally(()=>l(!1))},onKeyDown:j(()=>{l(!0),fetch("/api/operators/dashboard").then(s=>s.json()).then(s=>{console.log("[DASHBOARD] Retry response:",s),s.ok&&s.dashboard&&d(s.dashboard)}).catch(s=>console.error("[DASHBOARD] Retry error:",s)).finally(()=>l(!1))}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Retry loading dashboard data",children:"Retry"})})]})})]});if(!c||!c.event_metrics||!c.longitudinal_metrics)return e.jsxs("div",{className:"min-h-screen bg-[#fafafa]",children:[e.jsx(_,{active:"dashboard",onNavigate:f}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No data available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Dashboard data structure is incomplete. Please check the console for errors."}),e.jsx("button",{onClick:()=>{l(!0),fetch("/api/operators/dashboard").then(s=>s.json()).then(s=>{console.log("[DASHBOARD] Retry response:",s),s.ok&&s.dashboard?d(s.dashboard):x.error(s.error||"Failed to load dashboard")}).catch(s=>{console.error("[DASHBOARD] Retry error:",s),x.error("Failed to load dashboard")}).finally(()=>l(!1))},onKeyDown:j(()=>{l(!0),fetch("/api/operators/dashboard").then(s=>s.json()).then(s=>{console.log("[DASHBOARD] Retry response:",s),s.ok&&s.dashboard?d(s.dashboard):x.error(s.error||"Failed to load dashboard")}).catch(s=>{console.error("[DASHBOARD] Retry error:",s),x.error("Failed to load dashboard")}).finally(()=>l(!1))}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700","aria-label":"Retry loading dashboard data",children:"Retry"})]})})]});const{event_metrics:p,longitudinal_metrics:y}=c;return e.jsxs("div",{className:"min-h-screen bg-[#fafafa]",children:[e.jsx(_,{active:"dashboard",onNavigate:f}),e.jsx(Y,{isOpen:N.isOpen,onClose:()=>F({isOpen:!1}),onConfirm:N.onConfirm,title:N.title,message:N.message,variant:N.variant||"default"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-6",children:"Dashboard"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Event Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Events"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.total_events})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Live Events"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.live_events})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Open Events"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.open_events})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Closed Events"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.closed_events})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Seats Filled Rate"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[p.seats_filled_rate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Voting Completion"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[p.voting_completion_rate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attendance Counted"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[p.attendance_counted_rate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Pot"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",p.total_pot.toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Room Positivity"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[(p.room_positivity_index*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Signal Clarity"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.signal_clarity.toFixed(3)})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Offenses"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.total_offenses})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"No Shows"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.no_show_offenses})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Longitudinal Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Active Operators"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y.active_operators})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Repeat Attendees"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y.repeat_attendance_count})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Promotion Rate"}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[y.promotion_rate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Avg Signal Clarity"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y.average_signal_clarity.toFixed(3)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Yellow Cards"}),e.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:y.discipline_trends.yellow_cards})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Orange Cards"}),e.jsx("p",{className:"text-2xl font-semibold text-orange-600",children:y.discipline_trends.orange_cards})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Red Cards"}),e.jsx("p",{className:"text-2xl font-semibold text-red-600",children:y.discipline_trends.red_cards})]})]})]}),c.recent_roi_winners&&c.recent_roi_winners.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Recent ROI Winners"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.recent_roi_winners.map(s=>{const a=s.winner_name||(s.winner_email?s.winner_email.split("@")[0].replace(/\./g," ").replace(/\b\w/g,m=>m.toUpperCase()):"Unknown"),o=s.event_date?new Date(s.event_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a}),s.event_title&&e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s.event_title}),o&&e.jsx("p",{className:"text-xs text-gray-500",children:o})]}),s.pot_amount_won!==null&&e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Pot Won"}),e.jsxs("p",{className:"text-2xl font-semibold text-green-600",children:["$",s.pot_amount_won.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},s.id)})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Upcoming Events"}),D.length>0?e.jsx("div",{className:"space-y-6",children:D.map(s=>{var m;const a=H[s.id]||{candidate_email:"",essay:"",contact_info:""},o=k&&s.state==="LIVE";return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M(s.state)}`,children:s.state})]}),e.jsxs("p",{className:"text-gray-600",children:[new Date(s.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),s.start_time&&s.finish_time&&e.jsxs("span",{className:"ml-2",children:["â€¢ ",B(s.start_time)," - ",B(s.finish_time)]})]})]}),e.jsx("button",{onClick:()=>f(`/operators/events/${s.id}`),onKeyDown:j(()=>f(`/operators/events/${s.id}`)),className:"px-4 py-2 text-blue-600 hover:text-blue-700 border border-blue-600 rounded-lg","aria-label":`View details for ${s.title}`,children:"View Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Stake Amount"}),e.jsxs("p",{className:"text-gray-900",children:["$",s.stake_amount]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Seats"}),e.jsxs("p",{className:"text-gray-900",children:[((m=s.rsvps)==null?void 0:m.filter(t=>t.status==="confirmed").length)||0,"/",s.max_seats]})]})]}),s.host_name&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-1",children:["Host: ",s.host_name]}),s.host_location&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.host_location}),e.jsxs("a",{href:U(s.host_location),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 mt-1","aria-label":`Get directions to ${s.host_location} (opens in new tab)`,children:["Get Directions ",e.jsx(G,{className:"w-3 h-3","aria-hidden":"true"})]})]})]})]}),s.state==="LIVE"&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Rules & Requirements"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"To Become a Candidate:"}),e.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[e.jsx("li",{children:"Must be invited by an existing Operator"}),e.jsx("li",{children:"Must submit a 200+ word essay"}),e.jsx("li",{children:"Must be approved by a Chief Operator"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"To Become an Operator:"}),e.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[e.jsx("li",{children:"Must be an approved Candidate"}),e.jsx("li",{children:"Must attend and be checked in"}),e.jsx("li",{children:"Must receive votes and be promoted"})]})]})]})]}),J&&!s.user_rsvp&&e.jsx("div",{children:e.jsx("button",{onClick:()=>V(s.id),onKeyDown:j(()=>V(s.id)),disabled:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50","aria-label":`RSVP for ${s.title}`,children:"RSVP"})}),s.user_rsvp&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Your RSVP:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.user_rsvp.status==="confirmed"?"bg-green-100 text-green-800":s.user_rsvp.status==="waitlisted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.user_rsvp.status})]}),L(s)&&e.jsx("button",{onClick:()=>T(s.id),onKeyDown:j(()=>T(s.id)),disabled:O,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 text-sm","aria-label":`Cancel RSVP for ${s.title}`,children:"Cancel RSVP"})]}),o&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Invite Candidate"}),e.jsxs("form",{onSubmit:t=>I(t,s.id),className:"space-y-3",children:[e.jsx("input",{type:"email",required:!0,value:a.candidate_email,onChange:t=>S(i=>({...i,[s.id]:{...a,candidate_email:t.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Candidate email","aria-label":"Candidate email address"}),e.jsx("textarea",{required:!0,rows:"4",value:a.essay,onChange:t=>S(i=>({...i,[s.id]:{...a,essay:t.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Essay (200+ words)","aria-label":"Candidate essay (minimum 200 words)"}),e.jsx("input",{type:"text",required:!0,value:a.contact_info,onChange:t=>S(i=>({...i,[s.id]:{...a,contact_info:t.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Contact info","aria-label":"Candidate contact information"}),e.jsx("button",{type:"submit",disabled:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm","aria-label":"Submit candidate application",children:"Submit Candidate"})]})]})]})]},s.id)})}):e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:e.jsx(EmptyEvents,{onCreateEvent:()=>f("/operators/events/new")})})]})]})]})}export{oe as default};
//# sourceMappingURL=Dashboard-Um2efErU.js.map
