import{r as o,j as e,O as u}from"./index-COlkUDDC.js";const h=()=>{const[s,d]=o.useState(""),[r,a]=o.useState("idle"),[i,t]=o.useState(""),m=n=>{window.history.pushState({},"",n),window.dispatchEvent(new PopStateEvent("popstate")),window.scrollTo({top:0,behavior:"instant"})},x=async n=>{if(n.preventDefault(),!s||!s.includes("@")){t("Please enter a valid email address");return}a("sending"),t("");try{const l=await fetch("/api/operators/auth/send-magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})}),c=await l.json();c.ok||l.ok?(a("sent"),t("")):(a("error"),t(c.error||"Failed to send magic link. Please try again."))}catch(l){console.error("Magic link request error:",l),a("error"),t("Network error. Please try again.")}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(u,{src:"/brand/the-operators-logo.svg",alt:"The Operators",className:"h-10 w-auto max-w-[200px] mx-auto mb-4",loading:"eager",decoding:"async"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Log In"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"We'll send you a magic link to sign in"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[r==="sent"?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["We've sent a magic link to ",e.jsx("strong",{children:s})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Click the link in the email to sign in. The link will expire in 15 minutes."}),e.jsx("button",{onClick:()=>{a("idle"),d(""),t("")},className:"text-blue-600 hover:underline",children:"Use a different email"})]}):e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:s,onChange:n=>d(n.target.value),className:"w-full px-4 py-2 sm:py-3 text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent",placeholder:"you@company.com",required:!0,"aria-required":"true","aria-describedby":i?"email-error":void 0}),i&&e.jsx("p",{id:"email-error",className:"mt-2 text-sm text-red-600",role:"alert",children:i})]}),e.jsx("button",{type:"submit",disabled:r==="sending",className:"w-full min-h-[44px] bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":r==="sending"?"Sending magic link":"Send magic link",children:r==="sending"?"Sending...":"Send Magic Link"}),r==="error"&&i&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",role:"alert",children:i})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>m("/operators"),className:"text-sm text-gray-500 hover:text-gray-700",children:"‚Üê Back to Home"})})]})]})})};export{h as default};
//# sourceMappingURL=Login-BcSH_5sf.js.map
